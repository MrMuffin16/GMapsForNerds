@page
@model WebServer.Pages.MapModel
@{
    ViewData["Title"] = "Map";
}
<h1>@ViewData["Title"]</h1>

<p>!!! This is where the map goes.</p>
<div id="map" style="height: 600px;"></div>

@section Scripts {
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDervJANGT26FHyZP5y6azPVZI4_VFvY9Q"></script>
    <script>
        function initMap() {
            var mapOptions = {
                center: { lat: -27.4705, lng: 153.0260 }, // Brisbane coordinates
                zoom: 12
            };
            var map = new google.maps.Map(document.getElementById('map'), mapOptions);

            // Example marker
            var marker = new google.maps.Marker({
                position: { lat: -27.4584, lng: 153.0343 },
                map: map,
                title: 'Marker title'
            });

            // Example circle
            var circle = new google.maps.Circle({
                strokeColor: '#ADD8E6',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#ADD8E6',
                fillOpacity: 0.25,
                map: map,
                center: { lat: -27.3943, lng: 153.1178 },
                radius: 2500  // meters
            });

            // Example info window
            var infoWindow = new google.maps.InfoWindow({
                content: 'This is where you are right now.'
            });

            marker.addListener('click', function() {
                infoWindow.open(map, marker);
            });
        }
        
        // Initialize the map when the page loads
        google.maps.event.addDomListener(window, 'load', initMap);
    </script>
}